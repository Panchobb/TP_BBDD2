--crea una vista con cursos , los dias y horarios y el profesor
CREATE VIEW vw_Cursos_Con_Profesores
AS
SELECT
    C.IDCurso,
    C.Nombre AS NombreCurso,
    C.FechaInicio,
    C.FechaFin,
    C.Horario,
    P.Nombre + ' ' + P.Apellido AS NombreProfesor
FROM Cursos C
INNER JOIN Profesor Pr ON C.IDProfesor = Pr.IDProfesor
INNER JOIN Persona P ON Pr.IDPersona = P.IDPersona;
--crea una vista con las incripciones abiertas donde muestra participantes , cursos y fecha de inscipcion
CREATE VIEW vw_Inscripciones_Activas
AS
SELECT
    I.IDInscripcion,
    P.Nombre + ' ' + P.Apellido AS Participante,
    C.Nombre AS Curso,
    I.FechaInscripcion
FROM Inscripcion I
INNER JOIN Participante Pa ON I.IDParticipante = Pa.IDParticipante
INNER JOIN Persona P ON Pa.IDPersona = P.IDPersona
INNER JOIN Cursos C ON I.IDCurso = C.IDCurso
WHERE I.Activo = 1;
-- mustra las acciones solidarias por participante
CREATE VIEW vw_AccionesSolidarias
AS
SELECT
    Pe.Nombre + ' ' + Pe.Apellido AS Participante,
    A.NombreAccion,
    A.Fecha,
    A.Descripcion
FROM AccionSolidaria A
INNER JOIN Participante Pa ON A.IDParticipante = Pa.IDParticipante
INNER JOIN Persona Pe ON Pa.IDPersona = Pe.IDPersona;
